

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ACPI Tables &mdash; CXL: Boot To Bash  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx_lesson.css?v=e9df6548" />
      <link rel="stylesheet" type="text/css" href="../../_static/term_role_formatting.css?v=4194e21c" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx_rtd_theme_ext_color_contrast.css?v=8e8ea19f" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=187304be"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=582ca9e2"></script>
      <script src="../../_static/minipres.js?v=a0d29692"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script data-domain="coderefinery.github.io" defer="defer" src="https://plausible.cs.aalto.fi/js/script.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="CEDT - CXL Early Discovery Table" href="cedt/" />
    <link rel="prev" title="BIOS/EFI Configuration" href="../bios-and-efi/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../" class="icon icon-home">
            CXL: Boot To Bash
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../">CXL on Linux: Boot To Bash</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Device Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../devices/device-types/">Devices and Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devices/uefi/">UEFI Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platform Configuration</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../bios-and-efi/">BIOS/EFI Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ACPI Tables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cedt/">CEDT - CXL Early Discovery Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="srat/">SRAT - Static Resource Affinity Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="hmat/">HMAT - Heterogeneous Memory Attribute Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="slit/">SLIT - System Locality Information Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsdt/">DSDT - Differentiated system Description Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="#acpi-debugging">ACPI Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#common-issues">Common Issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../example-configs/">Example Platform Configurations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Linux Kernel Configuration:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../linux/overview/">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../linux/early-boot/">Linux Init (Early Boot)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../linux/cxl-driver/">CXL Driver Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../linux/dax-driver/">DAX Driver Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../linux/memory-hotplug/">Memory Hotplug</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Memory Allocation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../allocation/dax/">DAX Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../allocation/page-allocator/">The Page Allocator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../allocation/reclaim/">Reclaim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../allocation/hugepages/">Huge Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../allocation/tiering/">Memory Tiering</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../use-case/memory-expansion/">Memory Expansion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use-case/dynamic-capacity/">Dynamic Capacity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use-case/virtual-machines/">Virtual Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use-case/shared-memory/">Shared Memory</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">CXL: Boot To Bash</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">ACPI Tables</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/gourryinverse/cxl-boot-to-bash/blob/main/doc/platform/acpi.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="acpi-tables">
<h1>ACPI Tables<a class="headerlink" href="#acpi-tables" title="Link to this heading"></a></h1>
<p>ACPI is the “Advanced Configuration and Power Interface”, which is a standard
that defines how platforms and OS manage pwoer and configure computer hardware.
For the purpose of this theory of operation, when referring to “ACPI” we will
usually refer to “ACPI Tables” - which are the way a platform (BIOS/EFI)
communicates static configuration information to the operation system.</p>
<p>The Following ACPI tables contain <em>static</em> configuration and performance data about CXL devices.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cedt/">CEDT - CXL Early Discovery Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="srat/">SRAT - Static Resource Affinity Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="hmat/">HMAT - Heterogeneous Memory Attribute Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="slit/">SLIT - System Locality Information Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="dsdt/">DSDT - Differentiated system Description Table</a></li>
</ul>
</div>
<p>The SRAT table may also contain generic port/initiator content that is intended to describe the generic port, but not information about the rest of the path to the endpoint.</p>
<p>Linux uses these tables to configure kernel resources for statically configured (by BIOS/EFI) CXL devices, such as:</p>
<ul class="simple">
<li><p>NUMA nodes</p></li>
<li><p>Memory Tiers</p></li>
<li><p>NUMA Abstract Distances</p></li>
<li><p>SystemRAM Memory Regions</p></li>
<li><p>Weighted Interleave Node Weights</p></li>
</ul>
<section id="acpi-debugging">
<h2>ACPI Debugging<a class="headerlink" href="#acpi-debugging" title="Link to this heading"></a></h2>
<p>The <code class="code docutils literal notranslate"><span class="pre">acpidump</span> <span class="pre">-b</span></code> command dumps the ACPI tables into binary format.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">iasl</span> <span class="pre">-d</span></code> command disassembles the files into human readable format.</p>
<p>Example <code class="code docutils literal notranslate"><span class="pre">acpidump</span> <span class="pre">-b</span> <span class="pre">&amp;&amp;</span> <span class="pre">iasl</span> <span class="pre">-d</span> <span class="pre">cedt.dat</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span>
 <span class="o">*</span> <span class="n">Intel</span> <span class="n">ACPI</span> <span class="n">Component</span> <span class="n">Architecture</span>
 <span class="o">*</span> <span class="n">AML</span><span class="o">/</span><span class="n">ASL</span><span class="o">+</span> <span class="n">Disassembler</span> <span class="n">version</span> <span class="mi">20210604</span> <span class="p">(</span><span class="mi">64</span><span class="o">-</span><span class="n">bit</span> <span class="n">version</span><span class="p">)</span>
 <span class="o">*</span> <span class="n">Copyright</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="mi">2000</span> <span class="o">-</span> <span class="mi">2021</span> <span class="n">Intel</span> <span class="n">Corporation</span>
 <span class="o">*</span>
 <span class="o">*</span> <span class="n">Disassembly</span> <span class="n">of</span> <span class="n">cedt</span><span class="o">.</span><span class="n">dat</span><span class="p">,</span> <span class="n">Fri</span> <span class="n">Apr</span> <span class="mi">11</span> <span class="mi">07</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mi">31</span> <span class="mi">2025</span>
 <span class="o">*</span>
 <span class="o">*</span> <span class="n">ACPI</span> <span class="n">Data</span> <span class="n">Table</span> <span class="p">[</span><span class="n">CEDT</span><span class="p">]</span>
 <span class="o">*</span>
 <span class="o">*</span> <span class="n">Format</span><span class="p">:</span> <span class="p">[</span><span class="n">HexOffset</span> <span class="n">DecimalOffset</span> <span class="n">ByteLength</span><span class="p">]</span>  <span class="n">FieldName</span> <span class="p">:</span> <span class="n">FieldValue</span>
 <span class="o">*/</span>
 <span class="p">[</span><span class="mi">000</span><span class="n">h</span> <span class="mi">0000</span>   <span class="mi">4</span><span class="p">]</span>   <span class="n">Signature</span> <span class="p">:</span> <span class="s2">&quot;CEDT&quot;</span>    <span class="p">[</span><span class="n">CXL</span> <span class="n">Early</span> <span class="n">Discovery</span> <span class="n">Table</span><span class="p">]</span>
 <span class="o">...</span>
</pre></div>
</div>
<section id="common-issues">
<h3>Common Issues<a class="headerlink" href="#common-issues" title="Link to this heading"></a></h3>
<p>Most failures described here result in a failure of the driver to surface
memory as a DAX device and/or kmem.</p>
<ul class="simple">
<li><p>CEDT CFMWS targets list UIDs do not match CEDT CHBS UIDs.</p></li>
<li><p>CEDT CFMWS targets list UIDs do not match DSDT CXL Host Bridge UIDs.</p></li>
<li><p>CEDT CFMWS Restriction Bits are not correct.</p></li>
<li><p>CEDT CFMWS Memory regions are poorly aligned.</p></li>
<li><p>CEDT CFMWS Memory regions spans a platform memory hole.</p></li>
<li><p>CEDT CHBS UIDs do not match DSDT CXL Host Bridge UIDs.</p></li>
<li><p>CEDT CHBS Specification version is incorrect.</p></li>
<li><p>SRAT is missing regions described in CEDT CFMWS.</p>
<ul>
<li><p>Result: failure to create a NUMA node for the region, or
region is placed in wrong node.</p></li>
</ul>
</li>
<li><p>HMAT is missing data for regions described in CEDT CFMWS.</p>
<ul>
<li><p>Result: NUMA node being placed in the wrong memory tier.</p></li>
</ul>
</li>
<li><p>SLIT has bad data.</p>
<ul>
<li><p>Result: Lots of performance mechanisms in the kernel will be very unhappy.</p></li>
</ul>
</li>
</ul>
<p>All of these issues will appear to users as if the driver is failing to
support CXL - when in reality they are all the failure of a platform to
configure the ACPI tables correctly.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../bios-and-efi/" class="btn btn-neutral float-left" title="BIOS/EFI Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cedt/" class="btn btn-neutral float-right" title="CEDT - CXL Early Discovery Table" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Gregory Price.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>