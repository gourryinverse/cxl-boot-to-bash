

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CXL on Linux: Boot To Bash &mdash; CXL: Boot To Bash  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_lesson.css?v=e9df6548" />
      <link rel="stylesheet" type="text/css" href="_static/term_role_formatting.css?v=4194e21c" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_rtd_theme_ext_color_contrast.css?v=8e8ea19f" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=187304be"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=582ca9e2"></script>
      <script src="_static/minipres.js?v=a0d29692"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="_static/togglebutton.js?v=4a39c7ea"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script data-domain="coderefinery.github.io" defer="defer" src="https://plausible.cs.aalto.fi/js/script.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex/" />
    <link rel="search" title="Search" href="search/" />
    <link rel="next" title="Devices and Protocols" href="devices/device-types/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            CXL: Boot To Bash
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">CXL on Linux: Boot To Bash</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Device Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="devices/device-types/">Devices and Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="devices/uefi/">UEFI Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platform Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="platform/bios-and-efi/">BIOS/EFI Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="platform/acpi/">ACPI Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="platform/example-configs/">Example Platform Configurations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Linux Kernel Configuration:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="linux/overview/">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="linux/early-boot/">Linux Init (Early Boot)</a></li>
<li class="toctree-l1"><a class="reference internal" href="linux/cxl-driver/">CXL Driver Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="linux/dax-driver/">DAX Driver Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="linux/memory-hotplug/">Memory Hotplug</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Memory Allocation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="allocation/dax/">DAX Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="allocation/page-allocator/">The Page Allocator</a></li>
<li class="toctree-l1"><a class="reference internal" href="allocation/reclaim/">Reclaim</a></li>
<li class="toctree-l1"><a class="reference internal" href="allocation/hugepages/">Huge Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="allocation/tiering/">Memory Tiering</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="use-case/memory-expansion/">Memory Expansion</a></li>
<li class="toctree-l1"><a class="reference internal" href="use-case/dynamic-capacity/">Dynamic Capacity</a></li>
<li class="toctree-l1"><a class="reference internal" href="use-case/virtual-machines/">Virtual Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="use-case/shared-memory/">Shared Memory</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">CXL: Boot To Bash</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">CXL on Linux: Boot To Bash</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/gourryinverse/cxl-boot-to-bash/blob/main/doc/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cxl-on-linux-boot-to-bash">
<h1>CXL on Linux: Boot To Bash<a class="headerlink" href="#cxl-on-linux-boot-to-bash" title="Link to this heading"></a></h1>
<p>This documentation is intended as a companion to systems engineers (Platform, BIOS, EFI, OS, etc)
trying to enable CXL devices on Linux.</p>
<p>CXL device configuration requires platform (Hardware, BIOS, EFI), OS (early boot, core kernel,
driver), and user policy decisions that all impact each other.  This doc breaks up these
configurations into five main areas:</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">CXL on Linux: Boot To Bash</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Device Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="devices/device-types/">Devices and Protocols</a><ul>
<li class="toctree-l2"><a class="reference internal" href="devices/device-types/#protocols">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/device-types/#device-types">Device Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/device-types/#example-devices">Example Devices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="devices/uefi/">UEFI Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="devices/uefi/#coherent-device-attribute-table-cdat">Coherent Device Attribute Table (CDAT)</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Platform Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="platform/bios-and-efi/">BIOS/EFI Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="platform/bios-and-efi/#uefi-settings">UEFI Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/bios-and-efi/#physical-memory-map">Physical Memory Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/bios-and-efi/#decoder-programming">Decoder Programming</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="platform/acpi/">ACPI Tables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="platform/acpi/cedt/">CEDT - CXL Early Discovery Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/acpi/srat/">SRAT - Static Resource Affinity Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/acpi/hmat/">HMAT - Heterogeneous Memory Attribute Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/acpi/slit/">SLIT - System Locality Information Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/acpi/dsdt/">DSDT - Differentiated system Description Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/acpi/#acpi-debugging">ACPI Debugging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="platform/example-configs/">Example Platform Configurations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="platform/example-configurations/one-dev-per-hb/">One Device per Host Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/example-configurations/multi-dev-per-hb/">Multiple Devices per Host Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/example-configurations/hb-interleave/">Cross-Host-Bridge Interleave</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/example-configurations/flexible/">Flexible Presentation</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Linux Kernel Configuration:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="linux/overview/">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="linux/early-boot/">Linux Init (Early Boot)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="linux/early-boot/#bios-build-and-boot-options">BIOS, Build and Boot Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux/early-boot/#memory-map-creation">Memory Map Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux/early-boot/#numa-node-reservation">NUMA Node Reservation</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux/early-boot/#memory-tiers-creation">Memory Tiers Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux/early-boot/#contiguous-memory-allocation">Contiguous Memory Allocation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="linux/cxl-driver/">CXL Driver Operation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="linux/cxl-cli/">CXL-CLI Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux/cxl-driver/#drivers">Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux/cxl-driver/#driver-devices">Driver Devices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="linux/cxl-driver/#base-devices">Base Devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux/cxl-driver/#decoders">Decoders</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux/cxl-driver/#regions">Regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux/cxl-driver/#mailbox-interfaces">Mailbox Interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="linux/cxl-driver/#decoder-programming">Decoder Programming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="linux/cxl-driver/#runtime-programming">Runtime Programming</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux/cxl-driver/#auto-decoders">Auto Decoders</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux/cxl-driver/#interleave">Interleave</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="linux/cxl-driver/#example-configurations">Example Configurations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="linux/example-configurations/single-device/">Single Device</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux/example-configurations/hb-interleave/">Inter-Host-Bridge Interleave</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux/example-configurations/intra-hb-interleave/">Intra-Host-Bridge Interleave</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux/example-configurations/multi-interleave/">Multi-Level Interleave</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="linux/dax-driver/">DAX Driver Operation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="linux/dax-driver/#dax-device">DAX Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux/dax-driver/#kmem-conversion">kmem conversion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="linux/memory-hotplug/">Memory Hotplug</a><ul>
<li class="toctree-l2"><a class="reference internal" href="linux/memory-hotplug/#default-online-behavior">Default Online Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux/memory-hotplug/#hotplug-memory-block-size">Hotplug Memory Block Size</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux/memory-hotplug/#memory-map">Memory Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux/memory-hotplug/#driver-managed-memory">Driver Managed Memory</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Memory Allocation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="allocation/dax/">DAX Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="allocation/page-allocator/">The Page Allocator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allocation/page-allocator/#numa-nodes-and-mempolicy">NUMA nodes and mempolicy</a></li>
<li class="toctree-l2"><a class="reference internal" href="allocation/page-allocator/#memory-zones">Memory Zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="allocation/page-allocator/#zone-and-node-quirks">Zone and Node Quirks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allocation/page-allocator/#cgroups-and-cpusets">CGroups and CPUSets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allocation/reclaim/">Reclaim</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allocation/reclaim/#demotion">Demotion</a></li>
<li class="toctree-l2"><a class="reference internal" href="allocation/reclaim/#zswap-and-node-preference">ZSwap and Node Preference</a></li>
<li class="toctree-l2"><a class="reference internal" href="allocation/reclaim/#demotion-with-zswap">Demotion with ZSwap</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allocation/hugepages/">Huge Pages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allocation/hugepages/#contiguous-memory-allocator">Contiguous Memory Allocator</a></li>
<li class="toctree-l2"><a class="reference internal" href="allocation/hugepages/#hugetlb">HugeTLB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allocation/tiering/">Memory Tiering</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allocation/tiering/#memory-tiers">Memory Tiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allocation/tiering/#transparent-page-placement">Transparent Page Placement</a></li>
<li class="toctree-l2"><a class="reference internal" href="allocation/tiering/#data-access-monitor">Data Access MONitor</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Use Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="use-case/memory-expansion/">Memory Expansion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="use-case/memory-expansion/#as-page-cache">As Page Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-case/memory-expansion/#as-dax-device">As DAX Device</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="use-case/dynamic-capacity/">Dynamic Capacity</a><ul>
<li class="toctree-l2"><a class="reference internal" href="use-case/dynamic-capacity/#for-virtual-machines">For Virtual Machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-case/dynamic-capacity/#for-workload-orchestration">For Workload Orchestration</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-case/dynamic-capacity/#for-shared-memory">For Shared Memory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="use-case/virtual-machines/">Virtual Machines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="use-case/virtual-machines/#numa-passthrough">NUMA Passthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-case/virtual-machines/#flexible-shapes">Flexible Shapes</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-case/virtual-machines/#datacenter-efficiency">Datacenter Efficiency</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="use-case/shared-memory/">Shared Memory</a><ul>
<li class="toctree-l2"><a class="reference internal" href="use-case/shared-memory/#coherence">Coherence</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-case/shared-memory/#fabric-attached-memory-filesystem-famfs">Fabric Attached Memory FileSystem (FAMFS)</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="contributors">
<h1>Contributors<a class="headerlink" href="#contributors" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>Gregory Price</p></li>
<li><p>Joshua Hahn</p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="devices/device-types/" class="btn btn-neutral float-right" title="Devices and Protocols" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Gregory Price.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>